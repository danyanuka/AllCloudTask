<template>
    <lightning-card>

        <template lwc:if={isLoading}>
            <div class="slds-align_absolute-center slds-p-around_medium">
                <lightning-spinner alternative-text="Loading weather" size="medium"></lightning-spinner>
            </div>
        </template>

        <template lwc:elseif={weatherInfo}>
            <!-- Title -->
            <div slot="title" class="slds-m-around_small">
                <h2 class="weather-title">{cardTile}</h2>
                <div class="round-bg-blue slds-p-horizontal_small slds-p-vertical_xx-small">
                    <span>{weatherInfo.cityName}</span>
                </div>
            </div>
            <!-- Weather -->
            <div class="slds-align_absolute-center slds-grid slds-grid_vertical">
                <img src={weatherInfo.iconUrl} alt='Weather Icon' class="slds-m-bottom_small weather-icon" />
                <p class="slds-text-heading_medium slds-m-bottom_small">{weatherInfo.textDescription}</p>
                <div class="min-max-range">
                    <p class="slds-text-title_bold slds-text-heading_small">{maxTempRound}</p>
                    <p class="slds-text-heading_small slds-m-bottom_small text-blue ">{minTempRound}</p> 
                </div>
            </div>
        </template>

        <template lwc:else>
            <div class="slds-align_absolute-center">
                <p>Weather information could not be loaded</p>
            </div>
        </template>

        <div slot="footer" class="button-container">
            <lightning-button
                class="rounded-btn"
                label={btnAddressLabel} 
                icon-position="right"
                icon-name="utility:chevronright"
                variant="brand-outline"
                onclick={handleSwitchAddressField}
                size="small">
            </lightning-button>
        </div>

    </lightning-card>
</template>